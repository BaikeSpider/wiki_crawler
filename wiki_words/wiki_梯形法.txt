梯形公式


系列條目


微积分学





函数
导数
微分
积分




基本定理




函數極限
連續函數




均值定理
羅爾定理







基础概念



函数 · 數列 · 級數 · 极限
初等函数 · 無窮小量 · 收敛数列
收斂性 · 夹挤定理
连续 · 一致连续 · 间断点









一元微分



导数 · 高阶导数 · 介值定理 · 中值定理（罗尔定理 · 拉格朗日中值定理 · 柯西中值定理） · 泰勒公式 · 求导法则（乘法定则 · 除法定则 · 倒数定则 · 链式法则） · 洛必达法则 · 导数列表 · 导数的函数应用（单调性 · 极值 · 驻点 · 拐点 · 凹凸性 · 曲率）









一元积分



不定积分 · 定积分 · 积分的定义（黎曼积分 · 达布积分 · 勒贝格积分） · 积分表 · 求积分的技巧（吸納积分法 · 换元积分法 · 分部积分法 · 三角换元法 · 降次积分法 · 部分分式积分法） · 牛顿-莱布尼茨公式 · 广义积分 · 主值 · 柯西主值 · Β函数 · Γ函数 · 数值积分 · 牛顿-寇次公式 · 近似积分法（矩形法 · 梯形法 · 辛普森积分法）









多元微积分



多元函数 · 偏导数 · 隐函数 · 全微分 · 方向導數 · 梯度 · 泰勒公式 · 拉格朗日乘数 · 多元函数积分 · 多重积分 · 广义多重积分 · 曲线积分 · 曲面积分 · 格林公式 · 高斯公式 · 斯托克斯公式 · 散度 · 旋度









微分方程



常微分方程 · 分离变数法 · 积分因子 · 欧拉方法 · 柯西-欧拉方程 · 伯努利微分方程 · 克莱罗方程 · 全微分方程 · 线性微分方程 · 差分方程 · 拉普拉斯变换法 · 偏微分方程 · 拉普拉斯方程









相关数学家


牛顿 · 莱布尼兹 · 柯西 · 黎曼
拉格朗日 · 拉普拉斯 · 欧拉









查
论
编










本条目没有列出任何参考或来源。（2010年10月15日） 
維基百科所有的內容都應該可供查證。请协助添加来自可靠来源的引用以改善这篇条目。无法查证的内容可能被提出异议而移除。 






線性函數（紅色）會作用估算函數



f
(
x
)


{\displaystyle f(x)}

 （藍色）。


在數學裏，梯形公式是用作估算定積分






∫

a


b


f
(
x
)

d
x
.


{\displaystyle \int _{a}^{b}f(x)\,dx.}



梯形公式會把函數圖像



f
(
x
)


{\displaystyle f(x)}

當作成梯形並估算它的面積。以下就是估算所用的公式






∫

a


b


f
(
x
)

d
x
≈
(
b
−
a
)



f
(
a
)
+
f
(
b
)

2


.


{\displaystyle \int _{a}^{b}f(x)\,dx\approx (b-a){\frac {f(a)+f(b)}{2}}.}






目录


1 梯形公式

1.1 每一區間相同
1.2 每一區間並不相同


2 誤差分析



梯形公式[编辑]
每一區間相同[编辑]




梯形公式的示意圖（長度相同的區間）。


為了計算出更加準確的定積分，可以把積分的區間



[
a
,
b
]


{\displaystyle [a,b]}

分成



N


{\displaystyle N}

份，當中



N


{\displaystyle N}

趨向無限，分割出的每一個區間長度必定要是一樣的，然後就可以應用梯形公式：






∫

a


b


f
(
x
)

d
x
≈



b
−
a

N



[




f
(
a
)
+
f
(
b
)

2


+

∑

k
=
1


N
−
1


f

(

a
+
k



b
−
a

N



)


]

.


{\displaystyle \int _{a}^{b}f(x)\,dx\approx {\frac {b-a}{N}}\left[{f(a)+f(b) \over 2}+\sum _{k=1}^{N-1}f\left(a+k{\frac {b-a}{N}}\right)\right].}



亦可以寫成：






∫

a


b


f
(
x
)

d
x
≈



b
−
a


2
N




(

f
(

x

0


)
+
2
f
(

x

1


)
+
2
f
(

x

2


)
+
⋯
+
2
f
(

x

N
−
1


)
+
f
(

x

N


)

)



{\displaystyle \int _{a}^{b}f(x)\,dx\approx {\frac {b-a}{2N}}\left(f(x_{0})+2f(x_{1})+2f(x_{2})+\cdots +2f(x_{N-1})+f(x_{N})\right)}



當中






x

k


=
a
+
k



b
−
a

N


,

 for 

k
=
0
,
1
,
…
,
N


{\displaystyle x_{k}=a+k{\frac {b-a}{N}},{\text{ for }}k=0,1,\dots ,N}



當區間的長度並不相同時，這一條公式便不能使用。
每一區間並不相同[编辑]




梯形公式的示意圖（長度不相同的區間）


給予




x

1


,
…
,

x

N




{\displaystyle x_{1},\ldots ,x_{N}}

以及




y

1


,
…
,

y

N




{\displaystyle y_{1},\ldots ,y_{N}}

，定積分就可以估算成






∫

a


b


f
(
x
)

d
x
≈


1
2



∑

i
=
2


N


(

x

i


−

x

i
−
1


)
(

y

i


+

y

i
−
1


)


{\displaystyle \int _{a}^{b}f(x)\,dx\approx {\frac {1}{2}}\sum _{i=2}^{N}(x_{i}-x_{i-1})(y_{i}+y_{i-1})}

,

當中






y

i


=
f
(

x

i


)


{\displaystyle y_{i}=f(x_{i})}

.

誤差分析[编辑]
應用梯形公式的誤差值是真值數字與運用梯形公式結果的差異：






error

=

∫

a


b


f
(
x
)

d
x
−



b
−
a

N



[




f
(
a
)
+
f
(
b
)

2


+

∑

k
=
1


N
−
1


f

(

a
+
k



b
−
a

N



)


]



{\displaystyle {\text{error}}=\int _{a}^{b}f(x)\,dx-{\frac {b-a}{N}}\left[{f(a)+f(b) \over 2}+\sum _{k=1}^{N-1}f\left(a+k{\frac {b-a}{N}}\right)\right]}



如果a 至 b 中存在一個實數ξ，那麼






error

=
−



(
b
−
a

)

3




12

N

2






f
″

(
ξ
)


{\displaystyle {\text{error}}=-{\frac {(b-a)^{3}}{12N^{2}}}f''(\xi )}



如果被積函數是一個凸函數（亦即有一個正值二階導數），那麼誤差會是一個負數，也代表梯形公式的估算值高估了真實數字。這可以利用一個幾何圖形代去表達：梯形不但覆蓋曲線下的面積更超越其範圍。同樣地，如果被積函數是一個凹函數，梯形公式就會低估其真實數字因為曲線下部份面積沒有被計算在內。如果被積函數中有拐點。它的錯誤是比較難去估計。
一般而言有數種方法可以去分析誤差，例如是：傅利葉級數。
在N → ∞的情況下，趨向性的估計誤差是：






error

=
−



(
b
−
a

)

2




12

N

2







[



f
′

(
b
)
−

f
′

(
a
)


]


+
O
(

N

−
3


)
.


{\displaystyle {\text{error}}=-{\frac {(b-a)^{2}}{12N^{2}}}{\big [}f'(b)-f'(a){\big ]}+O(N^{-3}).}







分类：数值积分隐藏分类：自2010年10月缺少来源的条目